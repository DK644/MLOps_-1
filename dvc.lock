schema: '2.0'
stages:
  get-features:
    cmd: python3 scripts/data_processing/get_features.py data/train.csv
    deps:
    - path: data/train.csv
      hash: md5
      md5: 75ff0ee6067c81e1bf651c4bfce09e53
      size: 65457
    - path: scripts/data_processing/get_features.py
      hash: md5
      md5: 774b114fab8d6f8e579e106405d23f78
      size: 886
    outs:
    - path: data/stage1
      hash: md5
      md5: 1a5fea4774b54d47d6c025b7c267ba33.dir
      size: 12339
      nfiles: 1
  fill-na:
    cmd: python3 scripts/data_processing/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: 1b535b2bd34cbdd1381768e168ffe20f
      size: 12339
    - path: scripts/data_processing/fill_na.py
      hash: md5
      md5: f1ba9ac0cfb13afd522b87866d374871
      size: 1188
    outs:
    - path: data/stage2
      hash: md5
      md5: 38ffb0e6ed0c9060ac0c4107264db377.dir
      size: 13047
      nfiles: 1
  text_to_numeric:
    cmd: python3 scripts/data_processing/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: 231233a23fa1f34387c8c88d8cb6adb4
      size: 13047
    - path: scripts/data_processing/change_text_to_numeric.py
      hash: md5
      md5: 82ea5389517612aaa5a8a16d999bcd82
      size: 1102
    outs:
    - path: data/stage3
      hash: md5
      md5: 11d427dcb67284c1873cc067a2da2424.dir
      size: 9746
      nfiles: 1
  split:
    cmd: python3 scripts/data_processing/train_test_split.py data/stage3/train.csv
    deps:
    - path: data/stage3/train.csv
      hash: md5
      md5: 6d9420e656355fe1d57e088ef7c6ceb2
      size: 9746
    - path: scripts/data_processing/train_test_split.py
      hash: md5
      md5: 50abfbc2c2a0eee0503c83b81fda1dd5
      size: 951
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage4
      hash: md5
      md5: f60c61ee7c70eefead8daac0c1bfa5ff.dir
      size: 9735
      nfiles: 2
  train:
    cmd: python3 scripts/model_learning/dt.py data/stage4/train.csv model.pkl
    deps:
    - path: data/stage4/train.csv
      hash: md5
      md5: 83b341d1120d57fdf6659fc54015d377
      size: 6815
    - path: scripts/model_learning/dt.py
      hash: md5
      md5: c6e182c57576eb3b352f51a19218bc08
      size: 736
    params:
      params.yaml:
        train.max_depth: 3
        train.seed: 42
    outs:
    - path: models/current/model.pkl
      hash: md5
      md5: 52620accf2e0c725042708e38b7dcea3
      size: 2424
  evaluate:
    cmd: python3 scripts/model_learning/evaluate.py data/stage4/test.csv models/current/model.pkl
    deps:
    - path: data/stage4/test.csv
      hash: md5
      md5: 9bb6da8121b3705e163b0a74f9819333
      size: 2920
    - path: models/current/model.pkl
      hash: md5
      md5: 52620accf2e0c725042708e38b7dcea3
      size: 2424
    - path: scripts/model_learning/evaluate.py
      hash: md5
      md5: 32ea5d37069c493a8f9f7d176365ebf0
      size: 2028
    params:
      params.yaml:
        train.max_depth: 3
        train.seed: 42
    outs:
    - path: eval/metrics.json
      hash: md5
      md5: d6e07f9c5031d3c3d5c2eee84d610a8e
      size: 243
